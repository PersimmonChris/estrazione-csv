:root{
  --bg: #ffffff;
  --panel: #ffffff;
  --muted: #475569; /* slate-600 */
  --text: #111827;  /* gray-900 */
  --accent: #2563eb; /* blue-600 */
  --border: #e5e7eb; /* gray-200 */
  --hover: #f3f4f6;  /* gray-100 */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--bg);
  color: var(--text);
  line-height: 1.45;
}

.app-header{
  position: sticky; top:0; z-index: 10;
  background: var(--panel);
  border-bottom: 1px solid var(--border);
  padding: 12px 16px;
  display: flex; align-items: center; gap: 16px; flex-wrap: wrap;
}
.app-header h1{ font-size: 18px; margin: 0 8px 0 0; }
.controls{ display:flex; gap:8px; align-items:center; flex-wrap: wrap; }
.controls input[type="search"]{
  background: #fff;
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 8px; padding:8px 10px; min-width: 260px;
}
.controls button{
  background: #f8fafc; color: #111827;
  border: 1px solid var(--border); border-radius: 8px; padding:8px 10px;
  cursor: pointer;
}
.controls button:hover{ background: #eef2f7; }

main{ display:grid; grid-template-columns: 1fr 380px; gap: 16px; padding: 16px; }
@media (max-width: 960px){ main{ grid-template-columns: 1fr; } }

.tree{
  background: var(--panel);
  border: 1px solid var(--border); border-radius: 10px;
  padding: 12px;
  min-height: 240px;
}
.tree .loading{ color: var(--muted); padding: 12px; }

ul.tree-root{ list-style: none; margin:0; padding: 0; }
li.node{ margin: 2px 0; }
.node-row{
  display:flex; align-items:center; gap:10px; padding: 8px 8px; border-radius: 6px;
}
.node-row:hover{ background: var(--hover); }
.toggle{
  width: 28px; height: 28px; display:inline-flex; align-items:center; justify-content:center;
  cursor: pointer; user-select:none; font-size: 18px; color: var(--text);
  background: #f1f5f9; border: 1px solid var(--border); border-radius: 8px;
}
.toggle.empty{ visibility: hidden; }
.label{ cursor: default; }

/* Make native checkboxes slightly larger */
input[type="checkbox"]{ width: 18px; height: 18px; }

/* Indentation per livello */
li.depth-0 > .node-row{ padding-left: 6px; font-weight: 600; }
li.depth-1 > .node-row{ padding-left: 28px; border-left: 2px solid var(--border); }
li.depth-2 > .node-row{ padding-left: 52px; border-left: 2px solid var(--border); }
li.depth-3 > .node-row{ padding-left: 76px; border-left: 2px solid var(--border); }
li.depth-4 > .node-row{ padding-left: 100px; border-left: 2px solid var(--border); }
li.depth-5 > .node-row{ padding-left: 124px; border-left: 2px solid var(--border); }

ul.children{ list-style: none; margin:0; padding:0; }
li.hidden{ display:none; }

.selection{
  background: var(--panel);
  border: 1px solid var(--border); border-radius: 10px;
  padding: 12px; position: sticky; top: 64px; height: fit-content;
}
.selection-header{ display:flex; align-items:center; justify-content: space-between; margin-bottom: 8px; }
.selection-actions button{ background: var(--accent); color: #ffffff; border: none; border-radius: 8px; padding:8px 10px; cursor:pointer; }
#selectedList{
  width:100%; background: #fff; color: var(--text);
  border: 1px solid var(--border); border-radius: 8px; padding:8px; resize: vertical;
}
.copy-feedback{ color: #60d394; margin-top:6px; font-size: 12px; }

.app-footer{ padding: 12px 16px; color: var(--muted); }
